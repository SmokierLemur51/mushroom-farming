{% extends "base.html" %}

{% block navbar %}
<nav class="navbar navbar-expand-lg verdigris-backdrop" >
    <div class="container-fluid">
        <a class="navbar-brand" href="{{ url_for('public.index') }}">{{ elements['market_name'] }}</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
  
                <!-- all users can visit forum -->
                <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                    Forum
                </a>
                <ul class="dropdown-menu">
                    <li><a class="dropdown-item" href="{{ url_for('forum.feed') }}">Home</a></li>
                    <li><a class="dropdown-item" href="{{ url_for('forum.create_community') }}">Create Community</a></li>
                </ul>
                </li>

                <!-- all users can see market -->
                <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                    Market
                </a>
                <ul class="dropdown-menu">
                    <li><a class="dropdown-item" href="{{ url_for('market.index') }}">Market Home</a></li>
                    <li><a class="dropdown-item" href="#">Orders</a></li>
                </ul>
                </li>
                
                <!-- vendor portal -->
                {% if current_user.role.name == "vendor" %}
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                      Vendor Portal
                    </a>
                    <ul class="dropdown-menu">
                      <li><a class="dropdown-item" href="#">Open Orders</a></li>
                      <li><a class="dropdown-item" href="#">Customers</a></li>
                      <li><a class="dropdown-item" href="#">My Listings</a></li>
                      <li><a class="dropdown-item" href="#">Financial Data</a></li>
                    </ul>
                </li>
                {% endif %}

                <!-- administrative menu -->
                {% if current_user.role.name == "admin" %}
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                      Admin
                    </a>
                    <ul class="dropdown-menu">
                      <li><a class="dropdown-item" href="#">Support Tickets</a></li>
                      <li><a class="dropdown-item" href="#">Escrow</a></li>
                    </ul>
                </li>
                {% endif %}

                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                      Account
                    </a>
                    <ul class="dropdown-menu">
                      <li><a class="dropdown-item" href="#">View Profile</a></li>
                      <li><a class="dropdown-item" href="#">Account History</a></li>
                    </ul>
                </li>

                <li class="nav-item">
                    <a class="nav-link" aria-current="page" href="#">Help</a>
                </li>
                
                <li class="nav-item">
                    <a class="nav-link" aria-current="page" href="{{ url_for('users.logout') }}">Logout</a>
                </li>
            </ul>
        </div>
    </div>
  </nav>
{% endblock navbar %}

{% block main %}

<!-- market updates -->

{% endblock main %}
